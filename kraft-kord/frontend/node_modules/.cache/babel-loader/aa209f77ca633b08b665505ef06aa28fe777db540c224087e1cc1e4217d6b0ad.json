{"ast":null,"code":"var _jsxFileName = \"/home/swar/projects/kraftKord/kraft-kord/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { saveAs } from 'file-saver';\nimport * as Tone from 'tone';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst moods = {\n  Dreamy: ['Cmaj7', 'Am9', 'Fmaj7', 'G13'],\n  Sad: ['Dm', 'Gm', 'Bb', 'A7'],\n  Energetic: ['E', 'A', 'C#m', 'B'],\n  'Deep House': ['G#m9', 'Badd9', 'Emaj9', 'C#m9'],\n  'Ambient': ['Dmaj9', 'Bm7', 'Gmaj7', 'Em9'],\n  'Jazz': ['Dm7', 'G7', 'Cmaj7', 'A7'],\n  'Blues': ['A7', 'D7', 'E7', 'A7'],\n  'Cinematic': ['Em', 'C', 'G', 'D'],\n  'Lo-Fi': ['Fmaj7', 'Dm7', 'Bb7', 'C7'],\n  'Neo-Soul': ['F#m7', 'Bmaj7', 'E7', 'Amaj7']\n};\nconst instruments = {\n  'Grand Piano': {\n    type: 'sampler',\n    settings: {\n      urls: {\n        A0: \"A0.mp3\",\n        C1: \"C1.mp3\",\n        \"D#1\": \"Ds1.mp3\",\n        \"F#1\": \"Fs1.mp3\",\n        A1: \"A1.mp3\",\n        C2: \"C2.mp3\",\n        \"D#2\": \"Ds2.mp3\",\n        \"F#2\": \"Fs2.mp3\",\n        A2: \"A2.mp3\",\n        C3: \"C3.mp3\",\n        \"D#3\": \"Ds3.mp3\",\n        \"F#3\": \"Fs3.mp3\",\n        A3: \"A3.mp3\",\n        C4: \"C4.mp3\",\n        \"D#4\": \"Ds4.mp3\",\n        \"F#4\": \"Fs4.mp3\",\n        A4: \"A4.mp3\",\n        C5: \"C5.mp3\",\n        \"D#5\": \"Ds5.mp3\",\n        \"F#5\": \"Fs5.mp3\",\n        A5: \"A5.mp3\",\n        C6: \"C6.mp3\",\n        \"D#6\": \"Ds6.mp3\",\n        \"F#6\": \"Fs6.mp3\",\n        A6: \"A6.mp3\",\n        C7: \"C7.mp3\",\n        \"D#7\": \"Ds7.mp3\",\n        \"F#7\": \"Fs7.mp3\",\n        A7: \"A7.mp3\",\n        C8: \"C8.mp3\"\n      },\n      release: 1,\n      baseUrl: \"https://tonejs.github.io/audio/salamander/\"\n    }\n  },\n  'Strings': {\n    type: 'synth',\n    settings: {\n      oscillator: {\n        type: \"sine\",\n        modulationType: \"sine\",\n        modulationIndex: 0.2,\n        harmonicity: 0.5\n      },\n      envelope: {\n        attack: 1.5,\n        decay: 0.5,\n        sustain: 0.4,\n        release: 2\n      },\n      filter: {\n        type: \"lowpass\",\n        frequency: 800,\n        rolloff: -24,\n        Q: 0.5\n      },\n      volume: -12\n    },\n    effects: [{\n      type: \"compressor\",\n      threshold: -24,\n      ratio: 4,\n      attack: 0.1,\n      release: 0.2\n    }, {\n      type: \"eq3\",\n      low: 2,\n      mid: -4,\n      high: -8,\n      lowFrequency: 200,\n      highFrequency: 2000\n    }]\n  },\n  'Electric': {\n    type: 'synth',\n    settings: {\n      oscillator: {\n        type: \"sawtooth\",\n        modulationType: \"square\",\n        modulationIndex: 0.3,\n        harmonicity: 0.5\n      },\n      envelope: {\n        attack: 0.1,\n        decay: 0.3,\n        sustain: 0.3,\n        release: 1\n      },\n      filter: {\n        type: \"lowpass\",\n        frequency: 600,\n        rolloff: -24,\n        Q: 1\n      },\n      filterEnvelope: {\n        attack: 0.2,\n        decay: 0.3,\n        sustain: 0.4,\n        release: 1,\n        baseFrequency: 200,\n        octaves: 1.5\n      },\n      volume: -10\n    },\n    effects: [{\n      type: \"compressor\",\n      threshold: -20,\n      ratio: 6,\n      attack: 0.1,\n      release: 0.2\n    }, {\n      type: \"eq3\",\n      low: 4,\n      mid: -2,\n      high: -6,\n      lowFrequency: 150,\n      highFrequency: 1500\n    }]\n  },\n  'Synth': {\n    type: 'synth',\n    settings: {\n      oscillator: {\n        type: \"triangle\",\n        modulationType: \"sine\",\n        modulationIndex: 0.4,\n        harmonicity: 0.5\n      },\n      envelope: {\n        attack: 0.2,\n        decay: 0.4,\n        sustain: 0.3,\n        release: 1.5\n      },\n      filter: {\n        type: \"lowpass\",\n        frequency: 400,\n        rolloff: -24,\n        Q: 0.8\n      },\n      filterEnvelope: {\n        attack: 0.2,\n        decay: 0.3,\n        sustain: 0.4,\n        release: 1,\n        baseFrequency: 150,\n        octaves: 2\n      },\n      volume: -8\n    },\n    effects: [{\n      type: \"compressor\",\n      threshold: -18,\n      ratio: 8,\n      attack: 0.1,\n      release: 0.2\n    }, {\n      type: \"eq3\",\n      low: 6,\n      mid: -4,\n      high: -4,\n      lowFrequency: 100,\n      highFrequency: 1000\n    }]\n  },\n  'Pad': {\n    type: 'synth',\n    settings: {\n      oscillator: {\n        type: \"sine\",\n        modulationType: \"sine\",\n        modulationIndex: 0.3,\n        harmonicity: 0.5\n      },\n      envelope: {\n        attack: 2,\n        decay: 1,\n        sustain: 0.6,\n        release: 3\n      },\n      filter: {\n        type: \"lowpass\",\n        frequency: 500,\n        rolloff: -24,\n        Q: 0.5\n      },\n      filterEnvelope: {\n        attack: 1,\n        decay: 0.5,\n        sustain: 0.3,\n        release: 2,\n        baseFrequency: 200,\n        octaves: 2\n      },\n      volume: -12\n    },\n    effects: [{\n      type: \"compressor\",\n      threshold: -24,\n      ratio: 4,\n      attack: 0.1,\n      release: 0.2\n    }, {\n      type: \"eq3\",\n      low: 4,\n      mid: -2,\n      high: -4,\n      lowFrequency: 200,\n      highFrequency: 2000\n    }]\n  }\n};\n\n// Using MIDI note numbers for preview functionality\nconst chordLibrary = {\n  Cmaj7: [60, 64, 67, 71],\n  // C4, E4, G4, B4\n  Am9: [57, 60, 64, 69],\n  // A3, C4, E4, G4\n  Fmaj7: [53, 57, 60, 64],\n  // F3, A3, C4, E4\n  G13: [55, 59, 62, 67],\n  // G3, B3, D4, E4\n  Dm: [50, 53, 57],\n  // D3, F3, A3\n  Gm: [55, 58, 62],\n  // G3, Bb3, D4\n  Bb: [58, 62, 65],\n  // Bb3, D4, F4\n  A7: [57, 61, 64, 69],\n  // A3, C#4, E4, G4\n  E: [52, 56, 59],\n  // E3, G#3, B3\n  A: [57, 61, 64],\n  // A3, C#4, E4\n  'C#m': [61, 64, 68],\n  // C#4, E4, G#4\n  B: [59, 63, 66],\n  // B3, D#4, F#4\n  'G#m9': [56, 59, 63, 68],\n  // G#3, B3, D#4, F#4\n  Badd9: [59, 63, 66, 71],\n  // B3, D#4, F#4, C#5\n  Emaj9: [52, 56, 59, 66],\n  // E3, G#3, B3, D#4\n  'C#m9': [61, 64, 68, 73],\n  // C#4, E4, G#4, B4\n  Dmaj9: [50, 54, 57, 64],\n  // D3, F#3, A3, E4\n  Bm7: [59, 62, 66, 69],\n  // B3, D4, F#4, A4\n  Gmaj7: [55, 59, 62, 66],\n  // G3, B3, D4, F#4\n  Em9: [52, 55, 59, 64],\n  // E3, G3, B3, D4\n  Dm7: [50, 53, 57, 60],\n  // D3, F3, A3, C4\n  G7: [55, 59, 62, 65],\n  // G3, B3, D4, F4\n  D7: [50, 54, 57, 60],\n  // D3, F#3, A3, C4\n  E7: [52, 56, 59, 62],\n  // E3, G#3, B3, D4\n  'F#m7': [54, 57, 61, 64],\n  // F#3, A3, C#4, E4\n  Bmaj7: [59, 63, 66, 70],\n  // B3, D#4, F#4, A#4\n  Amaj7: [57, 61, 64, 68],\n  // A3, C#4, E4, G#4\n  Fmaj7: [53, 57, 60, 64],\n  // F3, A3, C4, E4\n  Dm7: [50, 53, 57, 60],\n  // D3, F3, A3, C4\n  Bb7: [58, 62, 65, 68],\n  // Bb3, D4, F4, Ab4\n  C7: [60, 64, 67, 70] // C4, E4, G4, Bb4\n};\nfunction App() {\n  _s();\n  const [mood, setMood] = useState('Dreamy');\n  const [instrument, setInstrument] = useState('Grand Piano');\n  const [synth, setSynth] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [reverb, setReverb] = useState(null);\n  const [effects, setEffects] = useState([]);\n  const [isDarkMode, setIsDarkMode] = useState(true);\n\n  // Memoize the note name conversion\n  const getNoteName = useCallback(note => {\n    const octave = Math.floor(note / 12) - 1;\n    const noteNames = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\n    const noteName = noteNames[note % 12];\n    return `${noteName}${octave}`;\n  }, []);\n\n  // Memoize the chord playing function\n  const playChord = useCallback((chordName, time) => {\n    const notes = chordLibrary[chordName] || [];\n    if (notes.length === 0) return;\n    const noteNames = notes.map(getNoteName);\n    const rootNote = noteNames[0];\n    const bassNote = rootNote.replace(/\\d+/, match => parseInt(match) - 1);\n\n    // Play the bass note with lower velocity for subtlety\n    synth.triggerAttackRelease(bassNote, \"1n\", Tone.now() + time, 0.5);\n    // Play the full chord\n    synth.triggerAttackRelease(noteNames, \"1n\", Tone.now() + time);\n  }, [synth, getNoteName]);\n\n  // Setup instrument with proper cleanup\n  useEffect(() => {\n    const setupInstrument = async () => {\n      // Clean up previous setup\n      if (synth) synth.dispose();\n      if (reverb) reverb.dispose();\n      effects.forEach(effect => effect.dispose());\n      setEffects([]);\n      const currentInstrument = instruments[instrument];\n      let newSynth;\n      if (currentInstrument.type === 'sampler') {\n        newSynth = new Tone.Sampler(currentInstrument.settings);\n      } else {\n        newSynth = new Tone.PolySynth(Tone.Synth, currentInstrument.settings);\n      }\n\n      // Create reverb\n      const newReverb = new Tone.Reverb({\n        decay: 2.5,\n        wet: 0.3\n      }).toDestination();\n\n      // Create effects chain\n      const newEffects = [];\n      if (currentInstrument.effects) {\n        currentInstrument.effects.forEach(effect => {\n          let effectNode;\n          switch (effect.type) {\n            case \"compressor\":\n              effectNode = new Tone.Compressor(effect);\n              break;\n            case \"eq3\":\n              effectNode = new Tone.EQ3(effect);\n              break;\n          }\n          if (effectNode) {\n            newEffects.push(effectNode);\n          }\n        });\n      }\n\n      // Connect the chain: synth -> effects -> reverb -> destination\n      let lastNode = newSynth;\n      newEffects.forEach(effect => {\n        lastNode.connect(effect);\n        lastNode = effect;\n      });\n      lastNode.connect(newReverb);\n      setSynth(newSynth);\n      setReverb(newReverb);\n      setEffects(newEffects);\n      return () => {\n        if (newSynth) newSynth.dispose();\n        if (newReverb) newReverb.dispose();\n        newEffects.forEach(effect => effect.dispose());\n      };\n    };\n    setupInstrument();\n  }, [instrument]);\n  const playProgression = useCallback(async () => {\n    if (isPlaying || !synth) return;\n    setIsPlaying(true);\n    await Tone.start();\n\n    // Clear any existing scheduled events\n    Tone.Transport.cancel();\n\n    // Schedule all chords\n    moods[mood].forEach((chordName, index) => {\n      const time = index;\n      playChord(chordName, time);\n    });\n\n    // Stop after all chords have played\n    const totalDuration = moods[mood].length;\n    setTimeout(() => {\n      setIsPlaying(false);\n    }, totalDuration * 1000);\n  }, [mood, isPlaying, synth, playChord]);\n  const generateMidi = useCallback(async () => {\n    try {\n      const response = await fetch('http://localhost:8000/generate-midi', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          mood: mood,\n          chords: moods[mood]\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to generate MIDI');\n      }\n      const data = await response.json();\n      const byteArray = new Uint8Array(data.data);\n      const blob = new Blob([byteArray], {\n        type: 'audio/midi'\n      });\n      saveAs(blob, data.filename);\n    } catch (error) {\n      console.error('Error generating MIDI:', error);\n      alert('Failed to generate MIDI file. Please make sure the backend server is running.');\n    }\n  }, [mood]);\n\n  // Keyboard event handler\n  useEffect(() => {\n    const handleKeyPress = e => {\n      if (e.code === 'Space' && !isPlaying) {\n        e.preventDefault();\n        playProgression();\n      }\n      if (e.ctrlKey && e.code === 'Enter') {\n        e.preventDefault();\n        generateMidi();\n      }\n      if (!e.ctrlKey && !isPlaying) {\n        const moodKeys = Object.keys(moods);\n        const currentMoodIndex = moodKeys.indexOf(mood);\n        switch (e.code) {\n          case 'KeyJ':\n            e.preventDefault();\n            setMood(moodKeys[(currentMoodIndex - 1 + moodKeys.length) % moodKeys.length]);\n            break;\n          case 'KeyK':\n            e.preventDefault();\n            setMood(moodKeys[(currentMoodIndex + 1) % moodKeys.length]);\n            break;\n        }\n        const instrumentKeys = Object.keys(instruments);\n        const currentInstrumentIndex = instrumentKeys.indexOf(instrument);\n        switch (e.code) {\n          case 'KeyD':\n            e.preventDefault();\n            setInstrument(instrumentKeys[(currentInstrumentIndex - 1 + instrumentKeys.length) % instrumentKeys.length]);\n            break;\n          case 'KeyF':\n            e.preventDefault();\n            setInstrument(instrumentKeys[(currentInstrumentIndex + 1) % instrumentKeys.length]);\n            break;\n        }\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [isPlaying, playProgression, mood, instrument, generateMidi]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app-container ${isDarkMode ? 'dark' : 'light'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"theme-switcher\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `theme-button ${isDarkMode ? 'dark' : 'light'}`,\n        onClick: () => setIsDarkMode(!isDarkMode),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined\",\n          children: \"visibility\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"switch-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `switch ${isDarkMode ? 'on' : 'off'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"switch-handle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"Kraft Kord\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-icon\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined\",\n          children: \"info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shortcuts-tooltip\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Keyboard Shortcuts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Space: Play preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"J/K: Previous/Next mood\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"D/F: Previous/Next sound\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Ctrl+Enter: Download MIDI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"palette-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Mood\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"palette\",\n        children: Object.keys(moods).map(m => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `palette-item ${mood === m ? 'active' : ''} ${isPlaying ? 'inactive' : ''}`,\n          onClick: () => setMood(m),\n          disabled: isPlaying,\n          children: m\n        }, m, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"palette-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sound\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"palette\",\n        children: Object.keys(instruments).map(i => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `palette-item ${instrument === i ? 'active' : ''} ${isPlaying ? 'inactive' : ''}`,\n          onClick: () => setInstrument(i),\n          disabled: isPlaying,\n          children: i\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `play-button ${isPlaying ? 'inactive' : ''}`,\n        onClick: playProgression,\n        disabled: isPlaying,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined\",\n          children: \"hearing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"download-button\",\n        onClick: generateMidi,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-symbols-outlined\",\n          children: \"file_download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 457,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"IP2S0tV+3KsKCCLLSW/FbeShzg8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","saveAs","Tone","jsxDEV","_jsxDEV","moods","Dreamy","Sad","Energetic","instruments","type","settings","urls","A0","C1","A1","C2","A2","C3","A3","C4","A4","C5","A5","C6","A6","C7","A7","C8","release","baseUrl","oscillator","modulationType","modulationIndex","harmonicity","envelope","attack","decay","sustain","filter","frequency","rolloff","Q","volume","effects","threshold","ratio","low","mid","high","lowFrequency","highFrequency","filterEnvelope","baseFrequency","octaves","chordLibrary","Cmaj7","Am9","Fmaj7","G13","Dm","Gm","Bb","E","A","B","Badd9","Emaj9","Dmaj9","Bm7","Gmaj7","Em9","Dm7","G7","D7","E7","Bmaj7","Amaj7","Bb7","App","_s","mood","setMood","instrument","setInstrument","synth","setSynth","isPlaying","setIsPlaying","reverb","setReverb","setEffects","isDarkMode","setIsDarkMode","getNoteName","note","octave","Math","floor","noteNames","noteName","playChord","chordName","time","notes","length","map","rootNote","bassNote","replace","match","parseInt","triggerAttackRelease","now","setupInstrument","dispose","forEach","effect","currentInstrument","newSynth","Sampler","PolySynth","Synth","newReverb","Reverb","wet","toDestination","newEffects","effectNode","Compressor","EQ3","push","lastNode","connect","playProgression","start","Transport","cancel","index","totalDuration","setTimeout","generateMidi","response","fetch","method","headers","body","JSON","stringify","chords","ok","Error","data","json","byteArray","Uint8Array","blob","Blob","filename","error","console","alert","handleKeyPress","e","code","preventDefault","ctrlKey","moodKeys","Object","keys","currentMoodIndex","indexOf","instrumentKeys","currentInstrumentIndex","window","addEventListener","removeEventListener","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","m","disabled","i","_c","$RefreshReg$"],"sources":["/home/swar/projects/kraftKord/kraft-kord/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { saveAs } from 'file-saver';\nimport * as Tone from 'tone';\nimport './App.css';\n\nconst moods = {\n  Dreamy: ['Cmaj7', 'Am9', 'Fmaj7', 'G13'],\n  Sad: ['Dm', 'Gm', 'Bb', 'A7'],\n  Energetic: ['E', 'A', 'C#m', 'B'],\n  'Deep House': ['G#m9', 'Badd9', 'Emaj9', 'C#m9'],\n  'Ambient': ['Dmaj9', 'Bm7', 'Gmaj7', 'Em9'],\n  'Jazz': ['Dm7', 'G7', 'Cmaj7', 'A7'],\n  'Blues': ['A7', 'D7', 'E7', 'A7'],\n  'Cinematic': ['Em', 'C', 'G', 'D'],\n  'Lo-Fi': ['Fmaj7', 'Dm7', 'Bb7', 'C7'],\n  'Neo-Soul': ['F#m7', 'Bmaj7', 'E7', 'Amaj7']\n};\n\nconst instruments = {\n  'Grand Piano': {\n    type: 'sampler',\n    settings: {\n      urls: {\n        A0: \"A0.mp3\", C1: \"C1.mp3\", \"D#1\": \"Ds1.mp3\", \"F#1\": \"Fs1.mp3\",\n        A1: \"A1.mp3\", C2: \"C2.mp3\", \"D#2\": \"Ds2.mp3\", \"F#2\": \"Fs2.mp3\",\n        A2: \"A2.mp3\", C3: \"C3.mp3\", \"D#3\": \"Ds3.mp3\", \"F#3\": \"Fs3.mp3\",\n        A3: \"A3.mp3\", C4: \"C4.mp3\", \"D#4\": \"Ds4.mp3\", \"F#4\": \"Fs4.mp3\",\n        A4: \"A4.mp3\", C5: \"C5.mp3\", \"D#5\": \"Ds5.mp3\", \"F#5\": \"Fs5.mp3\",\n        A5: \"A5.mp3\", C6: \"C6.mp3\", \"D#6\": \"Ds6.mp3\", \"F#6\": \"Fs6.mp3\",\n        A6: \"A6.mp3\", C7: \"C7.mp3\", \"D#7\": \"Ds7.mp3\", \"F#7\": \"Fs7.mp3\",\n        A7: \"A7.mp3\", C8: \"C8.mp3\"\n      },\n      release: 1,\n      baseUrl: \"https://tonejs.github.io/audio/salamander/\"\n    }\n  },\n  'Strings': {\n    type: 'synth',\n    settings: {\n      oscillator: { \n        type: \"sine\",\n        modulationType: \"sine\",\n        modulationIndex: 0.2,\n        harmonicity: 0.5\n      },\n      envelope: {\n        attack: 1.5,\n        decay: 0.5,\n        sustain: 0.4,\n        release: 2\n      },\n      filter: {\n        type: \"lowpass\",\n        frequency: 800,\n        rolloff: -24,\n        Q: 0.5\n      },\n      volume: -12\n    },\n    effects: [\n      {\n        type: \"compressor\",\n        threshold: -24,\n        ratio: 4,\n        attack: 0.1,\n        release: 0.2\n      },\n      {\n        type: \"eq3\",\n        low: 2,\n        mid: -4,\n        high: -8,\n        lowFrequency: 200,\n        highFrequency: 2000\n      }\n    ]\n  },\n  'Electric': {\n    type: 'synth',\n    settings: {\n      oscillator: { \n        type: \"sawtooth\",\n        modulationType: \"square\",\n        modulationIndex: 0.3,\n        harmonicity: 0.5\n      },\n      envelope: {\n        attack: 0.1,\n        decay: 0.3,\n        sustain: 0.3,\n        release: 1\n      },\n      filter: {\n        type: \"lowpass\",\n        frequency: 600,\n        rolloff: -24,\n        Q: 1\n      },\n      filterEnvelope: {\n        attack: 0.2,\n        decay: 0.3,\n        sustain: 0.4,\n        release: 1,\n        baseFrequency: 200,\n        octaves: 1.5\n      },\n      volume: -10\n    },\n    effects: [\n      {\n        type: \"compressor\",\n        threshold: -20,\n        ratio: 6,\n        attack: 0.1,\n        release: 0.2\n      },\n      {\n        type: \"eq3\",\n        low: 4,\n        mid: -2,\n        high: -6,\n        lowFrequency: 150,\n        highFrequency: 1500\n      }\n    ]\n  },\n  'Synth': {\n    type: 'synth',\n    settings: {\n      oscillator: { \n        type: \"triangle\",\n        modulationType: \"sine\",\n        modulationIndex: 0.4,\n        harmonicity: 0.5\n      },\n      envelope: {\n        attack: 0.2,\n        decay: 0.4,\n        sustain: 0.3,\n        release: 1.5\n      },\n      filter: {\n        type: \"lowpass\",\n        frequency: 400,\n        rolloff: -24,\n        Q: 0.8\n      },\n      filterEnvelope: {\n        attack: 0.2,\n        decay: 0.3,\n        sustain: 0.4,\n        release: 1,\n        baseFrequency: 150,\n        octaves: 2\n      },\n      volume: -8\n    },\n    effects: [\n      {\n        type: \"compressor\",\n        threshold: -18,\n        ratio: 8,\n        attack: 0.1,\n        release: 0.2\n      },\n      {\n        type: \"eq3\",\n        low: 6,\n        mid: -4,\n        high: -4,\n        lowFrequency: 100,\n        highFrequency: 1000\n      }\n    ]\n  },\n  'Pad': {\n    type: 'synth',\n    settings: {\n      oscillator: { \n        type: \"sine\",\n        modulationType: \"sine\",\n        modulationIndex: 0.3,\n        harmonicity: 0.5\n      },\n      envelope: {\n        attack: 2,\n        decay: 1,\n        sustain: 0.6,\n        release: 3\n      },\n      filter: {\n        type: \"lowpass\",\n        frequency: 500,\n        rolloff: -24,\n        Q: 0.5\n      },\n      filterEnvelope: {\n        attack: 1,\n        decay: 0.5,\n        sustain: 0.3,\n        release: 2,\n        baseFrequency: 200,\n        octaves: 2\n      },\n      volume: -12\n    },\n    effects: [\n      {\n        type: \"compressor\",\n        threshold: -24,\n        ratio: 4,\n        attack: 0.1,\n        release: 0.2\n      },\n      {\n        type: \"eq3\",\n        low: 4,\n        mid: -2,\n        high: -4,\n        lowFrequency: 200,\n        highFrequency: 2000\n      }\n    ]\n  }\n};\n\n// Using MIDI note numbers for preview functionality\nconst chordLibrary = {\n  Cmaj7: [60, 64, 67, 71],  // C4, E4, G4, B4\n  Am9: [57, 60, 64, 69],    // A3, C4, E4, G4\n  Fmaj7: [53, 57, 60, 64],  // F3, A3, C4, E4\n  G13: [55, 59, 62, 67],    // G3, B3, D4, E4\n  Dm: [50, 53, 57],         // D3, F3, A3\n  Gm: [55, 58, 62],         // G3, Bb3, D4\n  Bb: [58, 62, 65],         // Bb3, D4, F4\n  A7: [57, 61, 64, 69],     // A3, C#4, E4, G4\n  E: [52, 56, 59],          // E3, G#3, B3\n  A: [57, 61, 64],          // A3, C#4, E4\n  'C#m': [61, 64, 68],      // C#4, E4, G#4\n  B: [59, 63, 66],          // B3, D#4, F#4\n  'G#m9': [56, 59, 63, 68], // G#3, B3, D#4, F#4\n  Badd9: [59, 63, 66, 71],  // B3, D#4, F#4, C#5\n  Emaj9: [52, 56, 59, 66],  // E3, G#3, B3, D#4\n  'C#m9': [61, 64, 68, 73], // C#4, E4, G#4, B4\n  Dmaj9: [50, 54, 57, 64],  // D3, F#3, A3, E4\n  Bm7: [59, 62, 66, 69],    // B3, D4, F#4, A4\n  Gmaj7: [55, 59, 62, 66],  // G3, B3, D4, F#4\n  Em9: [52, 55, 59, 64],    // E3, G3, B3, D4\n  Dm7: [50, 53, 57, 60],    // D3, F3, A3, C4\n  G7: [55, 59, 62, 65],     // G3, B3, D4, F4\n  D7: [50, 54, 57, 60],     // D3, F#3, A3, C4\n  E7: [52, 56, 59, 62],     // E3, G#3, B3, D4\n  'F#m7': [54, 57, 61, 64],   // F#3, A3, C#4, E4\n  Bmaj7: [59, 63, 66, 70],  // B3, D#4, F#4, A#4\n  Amaj7: [57, 61, 64, 68],  // A3, C#4, E4, G#4\n  Fmaj7: [53, 57, 60, 64],  // F3, A3, C4, E4\n  Dm7: [50, 53, 57, 60],    // D3, F3, A3, C4\n  Bb7: [58, 62, 65, 68],    // Bb3, D4, F4, Ab4\n  C7: [60, 64, 67, 70]      // C4, E4, G4, Bb4\n};\n\nfunction App() {\n  const [mood, setMood] = useState('Dreamy');\n  const [instrument, setInstrument] = useState('Grand Piano');\n  const [synth, setSynth] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [reverb, setReverb] = useState(null);\n  const [effects, setEffects] = useState([]);\n  const [isDarkMode, setIsDarkMode] = useState(true);\n\n  // Memoize the note name conversion\n  const getNoteName = useCallback((note) => {\n    const octave = Math.floor(note / 12) - 1;\n    const noteNames = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\n    const noteName = noteNames[note % 12];\n    return `${noteName}${octave}`;\n  }, []);\n\n  // Memoize the chord playing function\n  const playChord = useCallback((chordName, time) => {\n    const notes = chordLibrary[chordName] || [];\n    if (notes.length === 0) return;\n\n    const noteNames = notes.map(getNoteName);\n    const rootNote = noteNames[0];\n    const bassNote = rootNote.replace(/\\d+/, (match) => parseInt(match) - 1);\n\n    // Play the bass note with lower velocity for subtlety\n    synth.triggerAttackRelease(bassNote, \"1n\", Tone.now() + time, 0.5);\n    // Play the full chord\n    synth.triggerAttackRelease(noteNames, \"1n\", Tone.now() + time);\n  }, [synth, getNoteName]);\n\n  // Setup instrument with proper cleanup\n  useEffect(() => {\n    const setupInstrument = async () => {\n      // Clean up previous setup\n      if (synth) synth.dispose();\n      if (reverb) reverb.dispose();\n      effects.forEach(effect => effect.dispose());\n      setEffects([]);\n\n      const currentInstrument = instruments[instrument];\n      let newSynth;\n\n      if (currentInstrument.type === 'sampler') {\n        newSynth = new Tone.Sampler(currentInstrument.settings);\n      } else {\n        newSynth = new Tone.PolySynth(Tone.Synth, currentInstrument.settings);\n      }\n\n      // Create reverb\n      const newReverb = new Tone.Reverb({\n        decay: 2.5,\n        wet: 0.3\n      }).toDestination();\n\n      // Create effects chain\n      const newEffects = [];\n      if (currentInstrument.effects) {\n        currentInstrument.effects.forEach(effect => {\n          let effectNode;\n          switch (effect.type) {\n            case \"compressor\":\n              effectNode = new Tone.Compressor(effect);\n              break;\n            case \"eq3\":\n              effectNode = new Tone.EQ3(effect);\n              break;\n          }\n          if (effectNode) {\n            newEffects.push(effectNode);\n          }\n        });\n      }\n\n      // Connect the chain: synth -> effects -> reverb -> destination\n      let lastNode = newSynth;\n      newEffects.forEach(effect => {\n        lastNode.connect(effect);\n        lastNode = effect;\n      });\n      lastNode.connect(newReverb);\n\n      setSynth(newSynth);\n      setReverb(newReverb);\n      setEffects(newEffects);\n\n      return () => {\n        if (newSynth) newSynth.dispose();\n        if (newReverb) newReverb.dispose();\n        newEffects.forEach(effect => effect.dispose());\n      };\n    };\n\n    setupInstrument();\n  }, [instrument]);\n\n  const playProgression = useCallback(async () => {\n    if (isPlaying || !synth) return;\n    \n    setIsPlaying(true);\n    await Tone.start();\n    \n    // Clear any existing scheduled events\n    Tone.Transport.cancel();\n    \n    // Schedule all chords\n    moods[mood].forEach((chordName, index) => {\n      const time = index;\n      playChord(chordName, time);\n    });\n    \n    // Stop after all chords have played\n    const totalDuration = moods[mood].length;\n    setTimeout(() => {\n      setIsPlaying(false);\n    }, totalDuration * 1000);\n  }, [mood, isPlaying, synth, playChord]);\n\n  const generateMidi = useCallback(async () => {\n    try {\n      const response = await fetch('http://localhost:8000/generate-midi', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          mood: mood,\n          chords: moods[mood]\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to generate MIDI');\n      }\n\n      const data = await response.json();\n      const byteArray = new Uint8Array(data.data);\n      const blob = new Blob([byteArray], { type: 'audio/midi' });\n      saveAs(blob, data.filename);\n    } catch (error) {\n      console.error('Error generating MIDI:', error);\n      alert('Failed to generate MIDI file. Please make sure the backend server is running.');\n    }\n  }, [mood]);\n\n  // Keyboard event handler\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (e.code === 'Space' && !isPlaying) {\n        e.preventDefault();\n        playProgression();\n      }\n      \n      if (e.ctrlKey && e.code === 'Enter') {\n        e.preventDefault();\n        generateMidi();\n      }\n\n      if (!e.ctrlKey && !isPlaying) {\n        const moodKeys = Object.keys(moods);\n        const currentMoodIndex = moodKeys.indexOf(mood);\n        \n        switch(e.code) {\n          case 'KeyJ':\n            e.preventDefault();\n            setMood(moodKeys[(currentMoodIndex - 1 + moodKeys.length) % moodKeys.length]);\n            break;\n          case 'KeyK':\n            e.preventDefault();\n            setMood(moodKeys[(currentMoodIndex + 1) % moodKeys.length]);\n            break;\n        }\n\n        const instrumentKeys = Object.keys(instruments);\n        const currentInstrumentIndex = instrumentKeys.indexOf(instrument);\n        \n        switch(e.code) {\n          case 'KeyD':\n            e.preventDefault();\n            setInstrument(instrumentKeys[(currentInstrumentIndex - 1 + instrumentKeys.length) % instrumentKeys.length]);\n            break;\n          case 'KeyF':\n            e.preventDefault();\n            setInstrument(instrumentKeys[(currentInstrumentIndex + 1) % instrumentKeys.length]);\n            break;\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [isPlaying, playProgression, mood, instrument, generateMidi]);\n\n  return (\n    <div className={`app-container ${isDarkMode ? 'dark' : 'light'}`}>\n      <div className=\"theme-switcher\">\n        <button \n          className={`theme-button ${isDarkMode ? 'dark' : 'light'}`}\n          onClick={() => setIsDarkMode(!isDarkMode)}\n        >\n          <span className=\"material-symbols-outlined\">visibility</span>\n          <div className=\"switch-container\">\n            <div className={`switch ${isDarkMode ? 'on' : 'off'}`}>\n              <div className=\"switch-handle\"></div>\n            </div>\n          </div>\n        </button>\n      </div>\n\n      <div className=\"title-container\">\n        <h1 className=\"title\">Kraft Kord</h1>\n        <div className=\"info-icon\">\n          <span className=\"material-symbols-outlined\">info</span>\n          <div className=\"shortcuts-tooltip\">\n            <h3>Keyboard Shortcuts</h3>\n            <ul>\n              <li>Space: Play preview</li>\n              <li>J/K: Previous/Next mood</li>\n              <li>D/F: Previous/Next sound</li>\n              <li>Ctrl+Enter: Download MIDI</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"palette-container\">\n        <h2>Mood</h2>\n        <div className=\"palette\">\n          {Object.keys(moods).map(m => (\n            <button\n              key={m}\n              className={`palette-item ${mood === m ? 'active' : ''} ${isPlaying ? 'inactive' : ''}`}\n              onClick={() => setMood(m)}\n              disabled={isPlaying}\n            >\n              {m}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"palette-container\">\n        <h2>Sound</h2>\n        <div className=\"palette\">\n          {Object.keys(instruments).map(i => (\n            <button\n              key={i}\n              className={`palette-item ${instrument === i ? 'active' : ''} ${isPlaying ? 'inactive' : ''}`}\n              onClick={() => setInstrument(i)}\n              disabled={isPlaying}\n            >\n              {i}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"button-group\">\n        <button \n          className={`play-button ${isPlaying ? 'inactive' : ''}`}\n          onClick={playProgression}\n          disabled={isPlaying}\n        >\n          <span className=\"material-symbols-outlined\">hearing</span>\n        </button>\n        <button \n          className=\"download-button\"\n          onClick={generateMidi}\n        >\n          <span className=\"material-symbols-outlined\">file_download</span>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}